(this["webpackJsonpml-app"]=this["webpackJsonpml-app"]||[]).push([[0],{131:function(e,t,n){e.exports=n(261)},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},261:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(24),o=n.n(r),c=(n(136),n(137),n(46)),l=n(47),s=n(52),u=n(50);n(138),n(139);var p=function(){return i.a.createElement("div",{id:"nav"},"Nutrition Analysis using Image Classification")},f=n(121),d=n(266),h=(n(140),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:!1},e.fileInputRef=i.a.createRef(),e.fileChange=function(t){t.target.files[0]&&(e.setState({file:t.target.files[0]}),e.props.showImage(t.target.files[0]))},e.handleUpload=function(){e.props.makeRequest(),e.setState({file:!1})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"input-box"},i.a.createElement(d.a,{content:"Browse",labelPosition:"left",icon:"file",onClick:function(){e.fileInputRef.current.click()},style:{width:"auto"}}),i.a.createElement("input",{name:"yoyo",id:"yoyo",ref:this.fileInputRef,type:"file",hidden:!0,onChange:this.fileChange,accept:"image/*"}),i.a.createElement(d.a,{content:"Upload",labelPosition:"left",icon:"upload",disabled:!this.state.file,style:{width:"auto"},onClick:this.handleUpload}))}}]),n}(a.Component)),m=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={file:!1,base64:null,prediction:null,nutrients:null},e.showImage=function(t){var n=new FileReader;n.readAsDataURL(t),n.onloadend=function(){e.setState({file:t,base64:n.result})}},e.makeNutrientRequest=function(t){var n=new Headers;n.append("Content-Type","application/json"),n.append("x-app-key","a0765d4678a8c6a7fb6cc657569868e7"),n.append("x-app-id","67f40abf"),n.append("x-remote-uset-id","vijitkambojdev");var a=JSON.stringify({query:"".concat(t),num_servings:1,aggregate:"string",line_delimited:!1,locale:"en_US"});fetch("https://trackapi.nutritionix.com/v2/natural/nutrients",{method:"POST",headers:n,body:a,redirect:"follow"}).then((function(e){return e.json()})).then((function(n){return e.setState({prediction:t,nutrients:n})})).catch((function(e){return console.log("error",e)}))},e.makePredictRequest=function(){var t={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({image:e.state.base64})};fetch("http://localhost:5000/",t).then((function(e){return e.json()})).then((function(t){return e.makeNutrientRequest(t.prediction)})).catch((function(e){return console.log("error",e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"app"},i.a.createElement(p,null),i.a.createElement("div",{id:"container"},i.a.createElement(f.a,{style:{height:"250px",width:"auto",margin:"0px auto 15px auto"},src:this.state.base64?this.state.base64:null}),i.a.createElement(h,{makeRequest:this.makePredictRequest,showImage:function(t){return e.showImage(t)}}),i.a.createElement("div",{id:"prediction"},this.state.prediction?this.state.prediction:null," ",i.a.createElement("br",null),this.state.nutrients?"Calories = ".concat(this.state.nutrients.foods[0].nf_calories):null)),i.a.createElement("div",{id:"logo"}))}}]),n}(a.Component);o.a.render(i.a.createElement(m,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.2e63580c.chunk.js.map